# Academy AI - ìˆ˜ëŠ¥/ë‚´ì‹  ì˜ì–´ í•™ì›ìš© ì•±

ìˆ˜ëŠ¥/ë‚´ì‹  ì˜ì–´ í•™ì›ìš© ëª¨ì˜ê³ ì‚¬Â·ìˆ™ì œ ì „ìš© ì•±

## ğŸ¯ ì£¼ìš” ê¸°ëŠ¥

- ğŸ“ **ëª¨ì˜ê³ ì‚¬**: ì‹œí—˜ ìƒì„±, ìë™ ì±„ì , ê²°ê³¼ ë¶„ì„
- ğŸ“š **ìˆ™ì œ**: ê³¼ì œ ê´€ë¦¬, ì œì¶œ ì¶”ì 
- ğŸ¤– **AI í•´ì„¤**: OpenAI ê¸°ë°˜ ë¬¸í•­ í•´ì„¤ ìë™ ìƒì„±
- ğŸ“Š **ì˜¤ë‹µë…¸íŠ¸**: ìë™ ìˆ˜ì§‘ ë° ë³µìŠµ ì¶”ì²œ
- ğŸ‘¥ **ë©€í‹° ìœ ì €**: ì„ ìƒë‹˜(PC), í•™ìƒ(ëª¨ë°”ì¼)

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

- **Frontend**: Next.js 14 (App Router), TypeScript, Tailwind CSS
- **Backend**: Next.js API Routes, Supabase (PostgreSQL + Auth)
- **AI**: OpenAI API (GPT-4o-mini)
- **í”Œë«í¼**: í•™ìƒ(ëª¨ë°”ì¼ ì›¹/PWA), ì„ ìƒë‹˜(PC ì›¹ ëŒ€ì‹œë³´ë“œ)

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

### 2. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env.local` íŒŒì¼ ìƒì„±:

```env
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your-supabase-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# OpenAI (AI í•´ì„¤ ìƒì„±)
OPENAI_API_KEY=sk-...
OPENAI_MODEL_TEXT=gpt-4o-mini
OPENAI_MODEL_VISION=gpt-4o
```

### 3. Supabase ì„¤ì •

#### í´ë¼ìš°ë“œ Supabase (ì¶”ì²œ)

1. [Supabase](https://supabase.com)ì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
2. SQL Editorì—ì„œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ì‹¤í–‰:
   - `supabase/migrations/20240101000000_initial_schema.sql`
   - `supabase/migrations/20241208090000_add_ai_columns.sql`

#### ë¡œì»¬ ê°œë°œ (Supabase CLI)

```bash
# Supabase CLI ì„¤ì¹˜
npm install -g supabase

# ë¡œì»¬ Supabase ì‹œì‘
supabase start

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
supabase db push
```

### 4. ê°œë°œ ì„œë²„ ì‹¤í–‰

```bash
npm run dev
```

http://localhost:3000 ì ‘ì†

---

## ğŸ“š ë¬¸ì„œ

í”„ë¡œì íŠ¸ ë¬¸ì„œëŠ” `docs/` í´ë”ì— ì •ë¦¬ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

- **guides/**: ë°°í¬ ë° ì‚¬ìš© ê°€ì´ë“œ
- **examples/**: ì˜ˆì‹œ ì½”ë“œ ë° í”„ë¡¬í”„íŠ¸
- **archive/**: ì°¸ê³ ìš© ë¬¸ì„œ

ìì„¸í•œ ë‚´ìš©ì€ [docs/README.md](./docs/README.md)ë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### ERD ê°œìš”

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  academies  â”‚â”€â”€â”€â”€<â”‚    users    â”‚â”€â”€â”€â”€<â”‚   classes   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚                    â”‚
                          â”‚              â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                          â”‚              â”‚           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                    â”‚ questions â”‚  â”‚  exams   â”‚ â”‚ homeworksâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚              â”‚           â”‚
                    â”Œâ”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
                    â”‚             submissions              â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”
                              â”‚ wrong_notes   â”‚
                              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì£¼ìš” í…Œì´ë¸”

| í…Œì´ë¸” | ì„¤ëª… | AI ì»¬ëŸ¼ |
|--------|------|---------|
| `questions` | ë¬¸ì œ ì€í–‰ | âœ… ai_explanation, ai_hints, ai_skill_tags |
| `exams` | ì‹œí—˜/ëª¨ì˜ê³ ì‚¬ | - |
| `homeworks` | ìˆ™ì œ | - |
| `submissions` | ì œì¶œ ê¸°ë¡ | - |
| `submission_answers` | ë¬¸ì œë³„ ë‹µì•ˆ | âœ… ai_feedback |
| `wrong_notes` | ì˜¤ë‹µ ë…¸íŠ¸ | - |

### ENUM íƒ€ì…

```sql
user_role           â†’ 'teacher' | 'student'
question_type       â†’ 'mcq' | 'short_answer' | 'essay'
difficulty_level    â†’ 'easy' | 'medium' | 'hard'
content_status      â†’ 'draft' | 'published' | 'closed'
assignment_status   â†’ 'pending' | 'in_progress' | 'submitted' | 'graded'
submission_type     â†’ 'exam' | 'homework'
```

---

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
academy-ai/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/                    # Next.js App Router
â”‚   â”‚   â”œâ”€â”€ (student)/          # í•™ìƒìš© í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ app/            # /app/* routes
â”‚   â”‚   â”œâ”€â”€ (teacher)/          # ì„ ìƒë‹˜ìš© í˜ì´ì§€
â”‚   â”‚   â”‚   â””â”€â”€ admin/          # /admin/* routes
â”‚   â”‚   â””â”€â”€ api/                # API Routes
â”‚   â”‚       â””â”€â”€ ai/             # AI ê´€ë ¨ API
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ student/            # í•™ìƒìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ teacher/            # ì„ ìƒë‹˜ìš© ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ ui/                 # ê³µí†µ UI ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ ai/                 # AI ëª¨ë“ˆ (OpenAI)
â”‚   â”‚   â”‚   â”œâ”€â”€ types.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ openai.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ prompts.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ db/                 # DB ìœ í‹¸
â”‚   â”‚   â”œâ”€â”€ exams/              # ì‹œí—˜ ë¡œì§
â”‚   â”‚   â””â”€â”€ homeworks/          # ìˆ™ì œ ë¡œì§
â”‚   â””â”€â”€ types/
â”‚       â”œâ”€â”€ domain.ts           # ë„ë©”ì¸ íƒ€ì…
â”‚       â””â”€â”€ database.ts         # DB í…Œì´ë¸” íƒ€ì…
â”œâ”€â”€ docs/                       # ğŸ“š ë¬¸ì„œ
â”‚   â”œâ”€â”€ guides/                 # ê°€ì´ë“œ
â”‚   â”œâ”€â”€ examples/               # ì˜ˆì‹œ ì½”ë“œ
â”‚   â””â”€â”€ archive/                # ì•„ì¹´ì´ë¸Œ
â”œâ”€â”€ supabase/
â”‚   â””â”€â”€ migrations/             # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚       â”œâ”€â”€ 20240101000000_initial_schema.sql
â”‚       â””â”€â”€ 20241208090000_add_ai_columns.sql
â”œâ”€â”€ public/
â”‚   â””â”€â”€ manifest.json           # PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â””â”€â”€ package.json
```

---

## ğŸ¨ UI/UX

### í•™ìƒ ì•± (ëª¨ë°”ì¼)
- **ë ˆì´ì•„ì›ƒ**: max-width 480px, ì¤‘ì•™ ì •ë ¬
- **ì»¬ëŸ¬**: ì¸ë””ê³  (#4F46E5) ë©”ì¸, ìŠ¬ë ˆì´íŠ¸ ê·¸ë ˆì´ ë°°ê²½
- **ë„¤ë¹„ê²Œì´ì…˜**: í•˜ë‹¨ íƒ­ë°” [í™ˆ, ëª¨ì˜ê³ ì‚¬, ìˆ™ì œ, ì˜¤ë‹µ]

### ì„ ìƒë‹˜ ëŒ€ì‹œë³´ë“œ (PC)
- **ë ˆì´ì•„ì›ƒ**: ì¢Œì¸¡ ì‚¬ì´ë“œë°” + ë©”ì¸ ì½˜í…ì¸ 
- **ê¸°ëŠ¥**: ì‹œí—˜ ìƒì„±, ê²°ê³¼ ë¶„ì„, AI í•´ì„¤ ê´€ë¦¬

---

## ğŸ¤– AI ê¸°ëŠ¥

### ë¬¸í•­ë³„ AI í•´ì„¤ ìƒì„±

```typescript
// API
POST /api/ai/questions/[questionId]/explain

// Body
{
  "forceRegenerate": false,
  "studentAnswer": "1",    // ê°œì¸í™” (ì„ íƒ)
  "isCorrect": false
}

// Response
{
  "explanation": "## í•œ ì¤„ ìš”ì•½\n...",
  "cached": false,
  "model": "gpt-4o-mini"
}
```

### í•´ì„¤ êµ¬ì¡°

1. **í•œ ì¤„ ìš”ì•½**: ë¬¸ì œ í•µì‹¬
2. **ë¬¸ì œ í•´ì„**: ì§€ë¬¸ ì„¤ëª…
3. **ì •ë‹µ í•´ì„¤**: ì •ë‹µ ê·¼ê±°
4. **ì˜¤ë‹µ ë¶„ì„**: ì„ íƒì§€ë³„ í‹€ë¦° ì´ìœ 
5. **í•™ìŠµ í¬ì¸íŠ¸**: ì£¼ì˜í•  ì 

---

## ğŸ“Š ì£¼ìš” ê¸°ëŠ¥

### âœ… ì™„ë£Œëœ ê¸°ëŠ¥

- [x] DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„
- [x] ë ˆì´ì•„ì›ƒ ë° ë„¤ë¹„ê²Œì´ì…˜
- [x] ì‹œí—˜ ìƒì„± (ì—‘ì…€ ì—…ë¡œë“œ)
- [x] ì‹œí—˜ ì‘ì‹œ ë° ì œì¶œ
- [x] ìë™ ì±„ì 
- [x] ê²°ê³¼ í™”ë©´
- [x] ì˜¤ë‹µ ë…¸íŠ¸ ìë™ ìˆ˜ì§‘
- [x] ì˜¤ëŠ˜ì˜ ë³µìŠµ ì¶”ì²œ
- [x] AI í•´ì„¤ ìƒì„± API
- [x] AI í•´ì„¤ UI (ì„ ìƒë‹˜/í•™ìƒ)

### ğŸš§ ì§„í–‰ ì¤‘

- [ ] ìˆ™ì œ ê´€ë¦¬
- [ ] ë°°ì¹˜ í•´ì„¤ ìƒì„±
- [ ] ì•½ì  ë¶„ì„
- [ ] í•™ìŠµ í†µê³„

---

## ğŸ§ª í…ŒìŠ¤íŠ¸

### AI í•´ì„¤ ìƒì„± í…ŒìŠ¤íŠ¸

```bash
# API í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:3000/api/ai/questions/q1/explain \
  -H "Content-Type: application/json" \
  -d '{"forceRegenerate": false}'

# í”„ë¡ íŠ¸ì—”ë“œ í…ŒìŠ¤íŠ¸
# ì„ ìƒë‹˜: http://localhost:3000/admin/exams/1
# í•™ìƒ: http://localhost:3000/app/exams/1/result
```

ìì„¸í•œ í…ŒìŠ¤íŠ¸ ê°€ì´ë“œëŠ” `docs/guides/STAGE3_3_GUIDE.md` ì°¸ê³ 

---

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### ì½”ë“œ ìŠ¤íƒ€ì¼

- TypeScript strict ëª¨ë“œ
- React ì„œë²„ ì»´í¬ë„ŒíŠ¸ ìš°ì„ 
- Tailwind CSS ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤
- ESLint + Prettier

### ë¸Œëœì¹˜ ì „ëµ

- `main`: í”„ë¡œë•ì…˜ ë°°í¬
- `develop`: ê°œë°œ í†µí•©
- `feature/*`: ê¸°ëŠ¥ ê°œë°œ

---

## ğŸ“ ë¼ì´ì„ ìŠ¤

Private - All rights reserved

---

## ğŸ“ ë¬¸ì˜

í”„ë¡œì íŠ¸ ê´€ë ¨ ë¬¸ì˜ëŠ” ì´ìŠˆë¥¼ í†µí•´ ë‚¨ê²¨ì£¼ì„¸ìš”.
